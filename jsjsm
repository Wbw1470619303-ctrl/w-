local Global = {
    WindUI = nil,
    MainWindow = nil,
    noclipConnection = nil,
    nightVisionEnabled = false,
    currentWalkSpeed = 16,
    currentJumpPower = 50,
    godmodeEnabled = false,
    autoswingEnabled = false,
    wallhopConnection = nil,
    rainbowAnimationConnection = nil,
    flyConnection = nil,
    creatorTagInstances = {},
    welcomeSent = false,
    ohioScript = {
        loaded = false
    },
    autoHealEnabled = false,
    autoHealConnection = nil,
    infiniteJumpEnabled = false,
    infiniteJumpConnection = nil,
    cameraLocked = false,
    originalCameraType = nil,
    currentMoveSensitivity = 1
}

-- Delta æ³¨å…¥å™¨å…¼å®¹æ€§æ£€æŸ¥å’Œä¼˜åŒ–
if identifyexecutor then
    local executor = identifyexecutor()
    if executor and executor:find("Delta") then
        print("âœ… Delta æ³¨å…¥å™¨æ£€æµ‹æˆåŠŸ")
    else
        warn("âš ï¸ æ¨èä½¿ç”¨ Delta æ³¨å…¥å™¨ä»¥è·å¾—æœ€ä½³ä½“éªŒ")
    end
else
    warn("âš ï¸ æ— æ³•æ£€æµ‹æ³¨å…¥å™¨ç±»å‹ï¼Œè¯·ç¡®ä¿ä½¿ç”¨ Delta æ³¨å…¥å™¨")
end

-- å®‰å…¨æ¡†æ¶åŠ è½½ï¼ˆDelta ä¼˜åŒ–ç‰ˆæœ¬ï¼‰
local success, WindUI = pcall(function()
    -- ä½¿ç”¨å¤šä¸ªå¤‡ç”¨æºç¡®ä¿æ¡†æ¶åŠ è½½
    local frameworkSources = {
        "https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua",
        "https://raw.githubusercontent.com/Footagesus/WindUI/master/dist/main.lua"
    }
    
    local frameworkContent
    for _, source in ipairs(frameworkSources) do
        local contentSuccess, content = pcall(function()
            return game:HttpGet(source, true)
        end)
        if contentSuccess and content then
            frameworkContent = content
            break
        end
    end
    
    if not frameworkContent then
        error("æ— æ³•åŠ è½½ WindUI æ¡†æ¶")
    end
    
    return loadstring(frameworkContent)()
end)

if not success then
    -- ä½¿ç”¨ Roblox åŸç”Ÿé€šçŸ¥ç³»ç»Ÿ
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "WindUI åŠ è½½å¤±è´¥",
        Text = "è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–æ›´æ–° Delta æ³¨å…¥å™¨",
        Duration = 5,
        Icon = "error"
    })
    return
end

Global.WindUI = WindUI

-- æœåŠ¡è·å–ï¼ˆDelta å…¼å®¹æ–¹å¼ï¼‰
local LocalPlayer = game:GetService("Players").LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

-- TextChatService è·å–ï¼ˆå…¼å®¹æ–°æ—§ç‰ˆæœ¬ï¼‰
local TextChatService
local successTextChat = pcall(function()
    TextChatService = game:GetService("TextChatService")
end)

local Confirmed = false

-- è§’è‰²åŠ è½½æ£€æµ‹ï¼ˆDelta ä¼˜åŒ–ï¼‰
local function waitForCharacter()
    if not LocalPlayer then return nil end
    
    local timeout = 0
    while not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") do
        task.wait(0.1)
        timeout = timeout + 0.1
        if timeout >= 10 then 
            return nil 
        end
    end
    return LocalPlayer.Character
end

-- å½©è™¹è‰²ç”Ÿæˆ
local function getRainbowColor(hueOffset)
    local hue = (tick() * 0.2 + hueOffset) % 1
    return Color3.fromHSV(hue, 0.8, 0.9)
end

-- å°çª—å½©è™¹åŠ¨ç”»ï¼ˆDelta ä¼˜åŒ–ï¼‰
local function startRainbowAnimation(openButton)
    if Global.rainbowAnimationConnection then
        Global.rainbowAnimationConnection:Disconnect()
        Global.rainbowAnimationConnection = nil
    end
    
    Global.rainbowAnimationConnection = RunService.RenderStepped:Connect(function()
        if openButton and openButton.Parent then
            local color1 = getRainbowColor(0)
            local color2 = getRainbowColor(0.1)
            openButton.Color = ColorSequence.new(color1, color2)
        else
            if Global.rainbowAnimationConnection then
                Global.rainbowAnimationConnection:Disconnect()
                Global.rainbowAnimationConnection = nil
            end
        end
    end)
end

-- æ ‡ç­¾åˆ›å»ºï¼ˆDelta å…¼å®¹ï¼‰
local function createCreatorTag(player)
    if not player or player == LocalPlayer or not player.Character then return end
    
    local humanoidRootPart = player.Character:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then return end

    -- æ¸…ç†æ—§æ ‡ç­¾
    if Global.creatorTagInstances[player.UserId] then
        pcall(function() 
            Global.creatorTagInstances[player.UserId]:Destroy() 
        end)
        Global.creatorTagInstances[player.UserId] = nil
    end

    local success, billboardGui = pcall(function()
        local bg = Instance.new("BillboardGui")
        bg.Name = "CreatorTag_" .. player.UserId
        bg.Adornee = humanoidRootPart
        bg.Size = UDim2.fromOffset(300, 70)
        bg.AlwaysOnTop = true
        bg.Parent = Workspace
        bg.MaxDistance = 600
        bg.ZIndexBehavior = Enum.ZIndexBehavior.Global

        -- è¾¹æ¡†
        local stroke = Instance.new("UIStroke")
        stroke.Thickness = 3
        stroke.Color = Color3.new(0, 1, 1)
        stroke.Parent = bg

        -- èƒŒæ™¯
        local frame = Instance.new("Frame")
        frame.Size = UDim2.fromScale(1, 1)
        frame.BackgroundTransparency = 0.1
        frame.BackgroundColor3 = Color3.new(0, 0, 0)
        
        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(0, 4)
        corner.Parent = frame
        frame.Parent = bg

        -- æ–‡å­—
        local textLabel = Instance.new("TextLabel")
        textLabel.Size = UDim2.fromScale(1, 1)
        textLabel.BackgroundTransparency = 1
        textLabel.Text = "[W] è¶…çº§è„šæœ¬åˆ¶ä½œè€… wbwhnb"
        textLabel.TextColor3 = Color3.new(1, 0.8, 0)
        textLabel.TextSize = 24
        textLabel.Font = Enum.Font.RobotoCondensed
        textLabel.TextWrapped = true
        textLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
        textLabel.TextStrokeTransparency = 0
        textLabel.Parent = frame

        -- è£…é¥°æ¡
        local bottomBar = Instance.new("Frame")
        bottomBar.Size = UDim2.fromScale(1, 0.15)
        bottomBar.Position = UDim2.fromScale(0, 0.85)
        bottomBar.BackgroundColor3 = Color3.new(1, 0, 1)
        bottomBar.BackgroundTransparency = 0.4
        
        local barCorner = Instance.new("UICorner")
        barCorner.CornerRadius = UDim.new(0, 2)
        barCorner.Parent = bottomBar
        bottomBar.Parent = frame

        return bg
    end)

    if success and billboardGui then
        Global.creatorTagInstances[player.UserId] = billboardGui
    else
        WindUI:Notify({ Title = "æ ‡ç­¾æç¤º", Content = "ä½œè€…æ ‡è¯†åˆ›å»ºå®Œæˆ", Duration = 2 })
    end
end

-- èŠå¤©æ¶ˆæ¯å‘é€ï¼ˆDelta å…¼å®¹ï¼‰
local function SendChatMessage(message)
    pcall(function()
        if successTextChat and TextChatService then
            if TextChatService.ChatVersion == Enum.ChatVersion.TextChatService then
                local generalChannel = TextChatService.TextChannels:FindFirstChild("RBXGeneral")
                if generalChannel then
                    generalChannel:SendAsync(message)
                end
            else
                local chatEvent = ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")
                local sayMsgRequest = chatEvent and chatEvent:FindFirstChild("SayMessageRequest")
                if sayMsgRequest then
                    sayMsgRequest:FireServer(message, "All")
                end
            end
        else
            local chatEvent = ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")
            local sayMsgRequest = chatEvent and chatEvent:FindFirstChild("SayMessageRequest")
            if sayMsgRequest then
                sayMsgRequest:FireServer(message, "All")
            end
        end
    end)
end

-- æ£€æŸ¥ä½œè€…ç©å®¶
local function checkForWbwhnb()
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name == "wbwhnb" then
            SendChatMessage("æ£€æµ‹åˆ°è¶…çº§è„šæœ¬åˆ¶ä½œè€…æ­£åœ¨æ­¤æ¸¸æˆä¸­ï¼ğŸ‰ğŸ‰æ¬¢è¿Wè¶…çº§è„šæœ¬ä½œè€…wbwhnbåŠ å…¥æ¸¸æˆï¼ğŸ‰ğŸ‰")
            break
        end
    end
end

-- å‘é€æ¬¢è¿ä¿¡æ¯
local function sendWelcomeMessage(player)
    if Global.welcomeSent or not player:IsDescendantOf(Players) then return end
    Global.welcomeSent = true

    pcall(function()
        local notifyGui = Instance.new("ScreenGui")
        notifyGui.Name = "WelcomeNotify_" .. tick()
        notifyGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
        notifyGui.Archivable = false
        
        local notifyText = Instance.new("TextLabel")
        notifyText.Size = UDim2.fromOffset(400, 60)
        notifyText.Position = UDim2.fromScale(0.5, 0.05)
        notifyText.AnchorPoint = Vector2.new(0.5, 0)
        notifyText.BackgroundColor3 = Color3.new(0, 0, 0)
        notifyText.BackgroundTransparency = 0.3
        notifyText.TextColor3 = Color3.new(1, 1, 0)
        notifyText.Text = "æ¬¢è¿wè¶…çº§è„šæœ¬åˆ¶ä½œè€… @" .. player.Name .. " åŠ å…¥æ¸¸æˆï¼ğŸ‰ğŸ‰"
        notifyText.TextSize = 18
        notifyText.TextWrapped = true
        notifyText.Parent = notifyGui
        
        -- è‡ªåŠ¨æ¸…ç†
        task.wait(12)
        if notifyGui then
            notifyGui:Destroy()
        end
    end)

    spawn(function()
        task.wait(1.2)
        SendChatMessage("æ¬¢è¿Wè¶…çº§è„šæœ¬åˆ¶ä½œè€…wbwhnbåŠ å…¥æ¸¸æˆğŸ‰ğŸ‰")
        WindUI:Notify({ Title = "æˆåŠŸ", Content = "æ¬¢è¿ä¿¡æ¯å·²å‘é€", Duration = 2 })
    end)
end

-- ä½œè€…æ£€æµ‹é€»è¾‘ï¼ˆDelta ä¼˜åŒ–ï¼‰
local function detectCreator()
    local function checkAuthor()
        for _, player in ipairs(Players:GetPlayers()) do
            if player.Name == "wbwhnb" and player ~= LocalPlayer then
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    createCreatorTag(player)
                    sendWelcomeMessage(player)
                    return true
                end
            end
        end
        return false
    end

    if not checkAuthor() then
        spawn(function()
            while true do
                task.wait(3)
                if checkAuthor() then break end
            end
        end)
    end

    Players.PlayerAdded:Connect(function(player)
        if player.Name == "wbwhnb" and player ~= LocalPlayer then
            task.wait(1.5)
            createCreatorTag(player)
            sendWelcomeMessage(player)
        end
    end)

    Players.PlayerAdded:Connect(function(player)
        if player.Name == "wbwhnb" and player ~= LocalPlayer then
            player.CharacterAdded:Connect(function()
                task.wait(1.2)
                createCreatorTag(player)
            end)
        end
    end)
end

-- æ–°ç©å®¶åŠ å…¥æ£€æŸ¥
Players.PlayerAdded:Connect(function(player)
    if player.Name == "wbwhnb" then
        task.wait(1)
        SendChatMessage("ğŸ‰æ¬¢è¿Wè¶…çº§è„šæœ¬ä½œè€…wbwhnbåŠ å…¥æ¸¸æˆï¼ğŸ‰")
    end
end)

-- åˆå§‹å¼¹çª—ï¼ˆDelta å…¼å®¹ï¼‰
WindUI:Popup({
    Title = "w è¶…çº§è„šæœ¬ - Delta ä¼˜åŒ–ç‰ˆ",
    IconThemed = true,
    Content = "æ¬¢è¿ä½¿ç”¨wè¶…çº§è„šæœ¬\nå½“å‰ç”¨æˆ·: " .. LocalPlayer.Name .. "\n\nâœ… å·²é€‚é… Delta æ³¨å…¥å™¨",
    Buttons = {
        { Title = "å–æ¶ˆ", Callback = function() end },
        { Title = "åŠ è½½è„šæœ¬", Callback = function() Confirmed = true; createMainUI() end }
    }
})

-- è§’è‰²å±æ€§åº”ç”¨ï¼ˆDelta ä¼˜åŒ–ï¼‰
local function applyCharacterProperties()
    local char = waitForCharacter()
    if char then
        local humanoid = char:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = Global.currentWalkSpeed
            humanoid.JumpPower = Global.currentJumpPower
            
            if Global.godmodeEnabled then
                humanoid.MaxHealth = math.huge
                humanoid.Health = math.huge
                humanoid:GetPropertyChangedSignal("Health"):Connect(function()
                    if humanoid.Health < math.huge then 
                        humanoid.Health = math.huge 
                    end
                end)
            else
                if humanoid.MaxHealth == math.huge then
                    humanoid.MaxHealth = 100
                    humanoid.Health = math.min(humanoid.Health, 100)
                end
            end
        end
    end
end

-- å®‰å…¨æ‰§è¡Œç¬¬ä¸‰æ–¹è„šæœ¬ï¼ˆDelta å…¼å®¹ï¼‰
local function safeExecuteScript(url, scriptName)
    local success, scriptContent = pcall(function()
        return game:HttpGet(url, true)
    end)
    
    if not success then
        WindUI:Notify({ Title = "åŠ è½½å¤±è´¥", Content = scriptName .. " é“¾æ¥æ— æ³•è®¿é—®", Duration = 3 })
        return false
    end
    
    local execSuccess, result = pcall(function()
        return loadstring(scriptContent)()
    end)
    
    if execSuccess then
        WindUI:Notify({ Title = "åŠ è½½æˆåŠŸ", Content = scriptName .. " å·²æ‰§è¡Œ", Duration = 3 })
        return true
    else
        WindUI:Notify({ Title = "æ‰§è¡Œå¤±è´¥", Content = scriptName .. " æ‰§è¡Œå¤±è´¥: " .. tostring(result), Duration = 3 })
        return false
    end
end

-- ä¸»UIåˆ›å»ºï¼ˆDelta å®Œå…¨å…¼å®¹ç‰ˆæœ¬ï¼‰
function createMainUI()
    local MainWindow = WindUI:CreateWindow({
        Title = "w è¶…çº§è„šæœ¬ - Delta ä¼˜åŒ–ç‰ˆ",
        Icon = "crown",
        Author = "wbwhnb (QQ: 2318995920)",
        Folder = "wSuperScript",
        Size = UDim2.fromOffset(600, 400),
        Theme = "Dark",
        SideBarWidth = 220,
        OnClose = function() 
            if MainWindow then
                MainWindow:Hide() 
            end
        end,
        OnMinimize = function()
            if MainWindow then
                MainWindow:Hide()
                local openButton = CoreGui:FindFirstChild("WindUI_OpenButton")
                if openButton then 
                    openButton.Visible = true 
                end
            end
        end,
    })
    
    if not MainWindow then
        warn("WindUI çª—å£åˆ›å»ºå¤±è´¥")
        return
    end
    
    Global.MainWindow = MainWindow

    -- å°çª—æŒ‰é’®åˆ›å»ºï¼ˆDelta å…¼å®¹ï¼‰
    local function createOpenButton()
        local openButton = MainWindow:EditOpenButton({
            Title = "w è¶…çº§è„šæœ¬",
            Icon = "crown",
            CornerRadius = UDim.new(0, 10),
            StrokeThickness = 2,
            Color = ColorSequence.new(getRainbowColor(0), getRainbowColor(0.1)),
            Draggable = true,
            Parent = CoreGui,
            ZIndex = 9999,
            Size = UDim2.fromOffset(120, 40),
        })
        
        if openButton then
            startRainbowAnimation(openButton)
        end
        
        return openButton
    end

    local openButton = createOpenButton()

    -- ä½œè€…ä¿¡æ¯Tab
    local AuthorTab = MainWindow:Tab({ Title = "ä½œè€…ä¿¡æ¯", Icon = "user" })
    if AuthorTab then
        AuthorTab:Section({ Title = "è„šæœ¬ä½œè€…è¯¦æƒ…" })
        AuthorTab:Paragraph({ Text = "ä½œè€…: wbwhnb" })
        AuthorTab:Paragraph({ Text = "ä½œè€… QQ: 2318995920" })
        AuthorTab:Paragraph({ Text = "è„šæœ¬æ€§è´¨: å…è´¹å¼€æº" })
        AuthorTab:Paragraph({ Text = "é€‚é…: Delta æ³¨å…¥å™¨ & å®¢æˆ·ç«¯æœ¬åœ°" })
        AuthorTab:Button({
            Title = "å¤åˆ¶ä½œè€… QQ",
            Callback = function()
                if setclipboard then
                    setclipboard("2318995920")
                    WindUI:Notify({ Title = "æç¤º", Content = "QQ å·²å¤åˆ¶åˆ°å‰ªè´´æ¿", Duration = 3 })
                else
                    WindUI:Notify({ Title = "é”™è¯¯", Content = "å‰ªè´´æ¿åŠŸèƒ½ä¸å¯ç”¨", Duration = 3 })
                end
            end
        })
    end

    -- é€šç”¨åŠŸèƒ½Tab
    local GeneralTab = MainWindow:Tab({ Title = "é€šç”¨åŠŸèƒ½", Icon = "settings" })
    if GeneralTab then
        -- ç§»åŠ¨é€Ÿåº¦æ§åˆ¶
        GeneralTab:Section({ Title = "ç§»åŠ¨é€Ÿåº¦æ§åˆ¶" })
        
        local speedPresets = {16, 50, 100, 200}
        for _, speed in ipairs(speedPresets) do
            GeneralTab:Button({
                Title = (speed == 16 and "é»˜è®¤é€Ÿåº¦ (" .. speed .. ")" or 
                        speed == 50 and "å¿«é€Ÿç§»åŠ¨ (" .. speed .. ")" or
                        speed == 100 and "è¶…å¿«ç§»åŠ¨ (" .. speed .. ")" or
                        "æé™é€Ÿåº¦ (" .. speed .. ")"),
                Callback = function()
                    Global.currentWalkSpeed = speed
                    local char = waitForCharacter()
                    if char then
                        local humanoid = char:FindFirstChildOfClass("Humanoid")
                        if humanoid then 
                            humanoid.WalkSpeed = speed
                            WindUI:Notify({ 
                                Title = "ç§»åŠ¨é€Ÿåº¦", 
                                Content = "å·²è®¾ç½®ä¸º: " .. speed,
                                Duration = 2 
                            })
                        end
                    end
                end
            })
        end

        -- è·³è·ƒé«˜åº¦æ§åˆ¶
        GeneralTab:Section({ Title = "è·³è·ƒé«˜åº¦æ§åˆ¶" })
        
        local jumpPresets = {50, 100, 150, 200}
        for _, jump in ipairs(jumpPresets) do
            GeneralTab:Button({
                Title = (jump == 50 and "é»˜è®¤è·³è·ƒ (" .. jump .. ")" or 
                        jump == 100 and "é«˜è·³è·ƒ (" .. jump .. ")" or
                        jump == 150 and "è¶…é«˜è·³è·ƒ (" .. jump .. ")" or
                        "æé™è·³è·ƒ (" .. jump .. ")"),
                Callback = function()
                    Global.currentJumpPower = jump
                    local char = waitForCharacter()
                    if char then
                        local humanoid = char:FindFirstChildOfClass("Humanoid")
                        if humanoid then 
                            humanoid.JumpPower = jump
                            WindUI:Notify({ 
                                Title = "è·³è·ƒé«˜åº¦", 
                                Content = "å·²è®¾ç½®ä¸º: " .. jump,
                                Duration = 2 
                            })
                        end
                    end
                end
            })
        end

        -- çµæ•åº¦æ§åˆ¶
        GeneralTab:Section({ Title = "çµæ•åº¦æ§åˆ¶" })
        
        local sensitivityPresets = {0.5, 1, 2.5, 5}
        for _, sens in ipairs(sensitivityPresets) do
            GeneralTab:Button({
                Title = (sens == 0.5 and "ä½çµæ•åº¦ (" .. sens .. ")" or 
                        sens == 1 and "é»˜è®¤çµæ•åº¦ (" .. sens .. ")" or
                        sens == 2.5 and "é«˜çµæ•åº¦ (" .. sens .. ")" or
                        "è¶…é«˜çµæ•åº¦ (" .. sens .. ")"),
                Callback = function()
                    Global.currentMoveSensitivity = sens
                    pcall(function()
                        local mouse = LocalPlayer:GetMouse()
                        if mouse then
                            mouse.Sensitivity = sens
                        end
                        WindUI:Notify({ 
                            Title = "çµæ•åº¦", 
                            Content = "å·²è®¾ç½®ä¸º: " .. sens,
                            Duration = 2 
                        })
                    end)
                end
            })
        end

        -- è§†è§‰åŠŸèƒ½
        GeneralTab:Section({ Title = "è§†è§‰åŠŸèƒ½" })

        GeneralTab:Toggle({
            Title = "å¤œè§†æ¨¡å¼",
            Default = Global.nightVisionEnabled,
            Callback = function(state)
                Global.nightVisionEnabled = state
                if state then
                    Lighting.Ambient = Color3.new(0.8, 0.8, 0.8)
                    Lighting.OutdoorAmbient = Color3.new(0.6, 0.6, 0.6)
                    WindUI:Notify({ Title = "å¤œè§†æ¨¡å¼", Content = "å¤œè§†æ¨¡å¼å·²å¼€å¯", Duration = 2 })
                else
                    Lighting.Ambient = Color3.new(0.1, 0.1, 0.1)
                    Lighting.OutdoorAmbient = Color3.new(0.2, 0.2, 0.2)
                    WindUI:Notify({ Title = "å¤œè§†æ¨¡å¼", Content = "å¤œè§†æ¨¡å¼å·²å…³é—­", Duration = 2 })
                end
            end
        })

        GeneralTab:Toggle({
            Title = "ç©¿å¢™æ¨¡å¼",
            Default = false,
            Callback = function(state)
                if state then
                    if not Global.noclipConnection then
                        Global.noclipConnection = RunService.Stepped:Connect(function()
                            local char = LocalPlayer.Character
                            if char then
                                for _, part in pairs(char:GetChildren()) do
                                    if part:IsA("BasePart") then 
                                        part.CanCollide = false 
                                    end
                                end
                            end
                        end)
                        WindUI:Notify({ Title = "ç©¿å¢™æ¨¡å¼", Content = "ç©¿å¢™æ¨¡å¼å·²å¼€å¯", Duration = 2 })
                    end
                else
                    if Global.noclipConnection then
                        Global.noclipConnection:Disconnect()
                        Global.noclipConnection = nil
                    end
                    local char = LocalPlayer.Character
                    if char then
                        for _, part in pairs(char:GetChildren()) do
                            if part:IsA("BasePart") then 
                                part.CanCollide = true 
                            end
                        end
                    end
                    WindUI:Notify({ Title = "ç©¿å¢™æ¨¡å¼", Content = "ç©¿å¢™æ¨¡å¼å·²å…³é—­", Duration = 2 })
                end
            end
        })

        -- è§’è‰²åŠŸèƒ½
        GeneralTab:Section({ Title = "è§’è‰²åŠŸèƒ½" })

        GeneralTab:Button({
            Title = "æ— æ•Œæ¨¡å¼",
            Callback = function()
                Global.godmodeEnabled = not Global.godmodeEnabled
                local char = waitForCharacter()
                if char then
                    local humanoid = char:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        if Global.godmodeEnabled then
                            humanoid.MaxHealth = math.huge
                            humanoid.Health = math.huge
                            humanoid:GetPropertyChangedSignal("Health"):Connect(function()
                                if humanoid.Health < math.huge then 
                                    humanoid.Health = math.huge 
                                end
                            end)
                            WindUI:Notify({ Title = "æ— æ•Œæ¨¡å¼", Content = "æ— æ•Œæ¨¡å¼å·²æ¿€æ´»", Duration = 3 })
                        else
                            humanoid.MaxHealth = 100
                            humanoid.Health = 100
                            WindUI:Notify({ Title = "æ— æ•Œæ¨¡å¼", Content = "æ— æ•Œæ¨¡å¼å·²å…³é—­", Duration = 3 })
                        end
                    end
                else
                    WindUI:Notify({ Title = "é”™è¯¯", Content = "è§’è‰²æœªåŠ è½½å®Œæˆ", Duration = 2 })
                end
            end
        })

        GeneralTab:Toggle({
            Title = "è‡ªåŠ¨å›è¡€",
            Default = Global.autoHealEnabled,
            Callback = function(state)
                Global.autoHealEnabled = state

                if Global.autoHealConnection then
                    Global.autoHealConnection:Disconnect()
                    Global.autoHealConnection = nil
                end

                if state then
                    local char = waitForCharacter()
                    if char then
                        local humanoid = char:FindFirstChildOfClass("Humanoid")
                        if humanoid then
                            Global.autoHealConnection = humanoid:GetPropertyChangedSignal("Health"):Connect(function()
                                pcall(function()
                                    if humanoid.Health < humanoid.MaxHealth then
                                        humanoid.Health = humanoid.MaxHealth
                                    end
                                end)
                            end)
                            WindUI:Notify({ Title = "è‡ªåŠ¨å›è¡€", Content = "è‡ªåŠ¨å›è¡€å·²æ¿€æ´»", Duration = 3 })
                        else
                            WindUI:Notify({ Title = "é”™è¯¯", Content = "æœªæ‰¾åˆ°è§’è‰²ç”Ÿå‘½ç»„ä»¶", Duration = 2 })
                        end
                    else
                        WindUI:Notify({ Title = "é”™è¯¯", Content = "è§’è‰²æœªåŠ è½½å®Œæˆ", Duration = 2 })
                    end
                else
                    WindUI:Notify({ Title = "è‡ªåŠ¨å›è¡€", Content = "è‡ªåŠ¨å›è¡€å·²å…³é—­", Duration = 3 })
                end
            end
        })

        GeneralTab:Toggle({
            Title = "æ— é™è·³è·ƒ",
            Default = Global.infiniteJumpEnabled,
            Callback = function(state)
                Global.infiniteJumpEnabled = state

                if Global.infiniteJumpConnection then
                    Global.infiniteJumpConnection:Disconnect()
                    Global.infiniteJumpConnection = nil
                end

                if state then
                    local char = waitForCharacter()
                    if char then
                        local humanoid = char:FindFirstChildOfClass("Humanoid")
                        if humanoid then
                            Global.infiniteJumpConnection = humanoid.JumpRequest:Connect(function()
                                pcall(function()
                                    humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                                    humanoid.CanJump = true
                                end)
                            end)
                            WindUI:Notify({ Title = "æ— é™è·³è·ƒ", Content = "æ— é™è·³è·ƒå·²æ¿€æ´»", Duration = 3 })
                        else
                            WindUI:Notify({ Title = "é”™è¯¯", Content = "æœªæ‰¾åˆ°è§’è‰²è·³è·ƒç»„ä»¶", Duration = 2 })
                        end
                    else
                        WindUI:Notify({ Title = "é”™è¯¯", Content = "è§’è‰²æœªåŠ è½½å®Œæˆ", Duration = 2 })
                    end
                else
                    WindUI:Notify({ Title = "æ— é™è·³è·ƒ", Content = "æ— é™è·³è·ƒå·²å…³é—­", Duration = 3 })
                end
            end
        })

        GeneralTab:Toggle({
            Title = "è§†è§’é”å®š",
            Default = Global.cameraLocked,
            Callback = function(state)
                Global.cameraLocked = state
                local camera = Workspace.CurrentCamera
                if not camera then return end

                if state then
                    Global.originalCameraType = camera.CameraType
                    pcall(function()
                        camera.CameraType = Enum.CameraType.Fixed
                    end)
                    WindUI:Notify({ Title = "è§†è§’é”å®š", Content = "è§†è§’å·²é”å®š", Duration = 3 })
                else
                    if Global.originalCameraType then
                        pcall(function()
                            camera.CameraType = Global.originalCameraType
                        end)
                    end
                    WindUI:Notify({ Title = "è§†è§’é”å®š", Content = "è§†è§’é”å®šå·²è§£é™¤", Duration = 3 })
                end
            end
        })

        GeneralTab:Button({
            Title = "å¿«é€Ÿå›è¡€",
            Callback = function()
                local char = waitForCharacter()
                if char then
                    local humanoid = char:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        pcall(function()
                            humanoid.Health = humanoid.MaxHealth
                        end)
                        WindUI:Notify({ Title = "å¿«é€Ÿå›è¡€", Content = "è¡€é‡å·²å›æ»¡", Duration = 2 })
                    else
                        WindUI:Notify({ Title = "é”™è¯¯", Content = "æœªæ‰¾åˆ°è§’è‰²ç”Ÿå‘½ç»„ä»¶", Duration = 2 })
                    end
                else
                    WindUI:Notify({ Title = "é”™è¯¯", Content = "è§’è‰²æœªåŠ è½½å®Œæˆ", Duration = 2 })
                end
            end
        })

        GeneralTab:Button({
            Title = "ç‚¹å‡»ä¼ é€",
            Callback = function()
                local tool = Instance.new("Tool")
                tool.RequiresHandle = false
                tool.Name = "[FE] ç‚¹å‡»ä¼ é€å·¥å…·"
                tool.Activated:Connect(function()
                    local mouse = LocalPlayer:GetMouse()
                    local char = waitForCharacter()
                    if mouse.Hit and char and char:FindFirstChild("HumanoidRootPart") then
                        local pos = mouse.Hit.Position + Vector3.new(0, 2.5, 0)
                        char.HumanoidRootPart.CFrame = CFrame.new(pos)
                    end
                end)
                tool.Parent = LocalPlayer.Backpack
                WindUI:Notify({ Title = "ä¼ é€å·¥å…·", Content = "ä¼ é€å·¥å…·å·²æ”¾å…¥èƒŒåŒ…", Duration = 2 })
            end
        })

        -- ç¬¬ä¸‰æ–¹è„šæœ¬åŒºåŸŸ
        GeneralTab:Section({ Title = "ç¬¬ä¸‰æ–¹è„šæœ¬" })
        
        local thirdPartyScripts = {
            {name = "è·³å¢™æ¨¡å¼", url = "https://raw.githubusercontent.com/ScpGuest666/Random-Roblox-script/refs/heads/main/Roblox%20WallHop%20V4%20script"},
            {name = "åŠ è½½ xahub", url = "https://pastebin.com/raw/h8nC0fLb"},
            {name = "è¶…äººé£è¡Œ", url = "https://raw.githubusercontent.com/396abc/Script/refs/heads/main/MobileFly.lua"}
        }
        
        for _, scriptInfo in ipairs(thirdPartyScripts) do
            GeneralTab:Button({
                Title = scriptInfo.name,
                Callback = function()
                    safeExecuteScript(scriptInfo.url, scriptInfo.name)
                end
            })
        end
    end

    -- å¨±ä¹åŠŸèƒ½Tab
    local FunTab = MainWindow:Tab({ Title = "å¨±ä¹åŠŸèƒ½", Icon = "emoji" })
    if FunTab then
        FunTab:Button({
            Title = "è“å±ç‰¹æ•ˆ",
            Callback = function()
                safeExecuteScript("https://github.com/RunDTM/roblox-bluescreen/raw/main/bsod.lua", "è“å±ç‰¹æ•ˆ")
            end
        })
        
        FunTab:Button({
            Title = "è‡ªæ€",
            Callback = function()
                local char = waitForCharacter()
                if char then
                    local humanoid = char:FindFirstChildOfClass("Humanoid")
                    if humanoid then 
                        humanoid.Health = 0 
                    end
                end
            end
        })
    end

    -- æ¸¸æˆä¸“ç”¨åŠŸèƒ½Tabs
    local gameTabs = {
        {
            name = "DOORS",
            icon = "door-open",
            buttons = {
                { title = "æœ€å¼ºæ±‰åŒ–è„šæœ¬", url = "https://pastebin.com/raw/65TwT8ja" },
                { title = "é—¨ç»˜å›¾æ˜¾ç¤º", url = "https://raw.githubusercontent.com/cbhlyy/lyycbh/main/doors1" },
                { title = "é“å…·å¸é“çŸ³", url = "https://raw.githubusercontent.com/MrNeRD0/Doors-Hack/main/MagnetByNerd.lua" }
            }
        },
        {
            name = "åŠ›é‡ä¼ å¥‡",
            icon = "dumbbell",
            buttons = {
                { title = "æ¯è„šæœ¬", url = "https://raw.githubusercontent.com/zuohongjian/bjb/main/llcq" },
                { title = "Speed Hub X", url = "https://raw.githubusercontent.com/ahmadsgamer2/Script--Game/main/Muscle-Legends" }
            }
        }
    }

    -- åŠ¨æ€åˆ›å»ºæ¸¸æˆTabs
    for _, gameTab in ipairs(gameTabs) do
        local tab = MainWindow:Tab({ Title = gameTab.name, Icon = gameTab.icon })
        if tab then
            tab:Section({ Title = "è„šæœ¬åŠŸèƒ½" })
            for _, button in ipairs(gameTab.buttons) do
                tab:Button({
                    Title = button.title,
                    Callback = function()
                        safeExecuteScript(button.url, button.title)
                    end
                })
            end
        end
    end

    -- ä¿„äº¥ä¿„å·Tab
    local OhioTab = MainWindow:Tab({ Title = "ä¿„äº¥ä¿„å·", Icon = "map" })
    if OhioTab then
        OhioTab:Section({ Title = "å¶è„šæœ¬åŠŸèƒ½" })

        OhioTab:Button({
            Title = "åŠ è½½å¶è„šæœ¬",
            Callback = function()
                if Global.ohioScript.loaded then
                    WindUI:Notify({ Title = "æç¤º", Content = "å¶è„šæœ¬å·²åŠ è½½ï¼Œæ— éœ€é‡å¤æ“ä½œ", Duration = 3 })
                    return
                end

                if safeExecuteScript("https://raw.githubusercontent.com/roblox-ye/QQ515966991/refs/heads/main/YE-%20Scripts-OHIO.lua", "ä¿„äº¥ä¿„å·å¶è„šæœ¬") then
                    Global.ohioScript.loaded = true
                end
            end
        })
    end

    -- Delta ä¼˜åŒ–çš„ä¿æ´»é€»è¾‘
    spawn(function()
        while true do
            task.wait(3)
            
            -- ç¡®ä¿å°çª—æŒ‰é’®å­˜åœ¨
            if Global.MainWindow then
                local openButton = CoreGui:FindFirstChild("WindUI_OpenButton")
                if not openButton then
                    openButton = createOpenButton()
                else
                    openButton.Visible = true
                    if not Global.rainbowAnimationConnection or not Global.rainbowAnimationConnection.Connected then
                        startRainbowAnimation(openButton)
                    end
                end
            end

            -- è§’è‰²é‡ç”Ÿæ—¶é‡æ–°åº”ç”¨å±æ€§
            LocalPlayer.CharacterAdded:Connect(function(newChar)
                task.wait(1)
                applyCharacterProperties()
                
                local humanoid = newChar:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    -- æ¢å¤è‡ªåŠ¨å›è¡€
                    if Global.autoHealEnabled and not Global.autoHealConnection then
                        Global.autoHealConnection = humanoid:GetPropertyChangedSignal("Health"):Connect(function()
                            pcall(function()
                                if humanoid.Health < humanoid.MaxHealth then
                                    humanoid.Health = humanoid.MaxHealth
                                end
                            end)
                        end)
                    end
                    
                    -- æ¢å¤æ— é™è·³è·ƒ
                    if Global.infiniteJumpEnabled and not Global.infiniteJumpConnection then
                        Global.infiniteJumpConnection = humanoid.JumpRequest:Connect(function()
                            pcall(function()
                                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                                humanoid.CanJump = true
                            end)
                        end)
                    end
                end
                
                -- æ¢å¤ç©¿å¢™æ¨¡å¼
                if Global.noclipConnection then
                    for _, part in pairs(newChar:GetChildren()) do
                        if part:IsA("BasePart") then 
                            part.CanCollide = false 
                        end
                    end
                end
            end)

            -- æŒç»­æ£€æµ‹ä½œè€…æ ‡ç­¾
            for _, player in ipairs(Players:GetPlayers()) do
                if player.Name == "wbwhnb" and player ~= LocalPlayer then
                    local char = player.Character
                    if char and not char:FindFirstChild("CreatorTag") then
                        task.wait(0.5)
                        createCreatorTag(player)
                    end
                end
            end
        end
    end)

    -- å¯åŠ¨æ£€æµ‹
    spawn(function()
        task.wait(1)
        pcall(detectCreator)
        pcall(checkForWbwhnb)
    end)

    -- åˆå§‹åº”ç”¨è§’è‰²å±æ€§
    applyCharacterProperties()

    -- åŠ è½½æˆåŠŸé€šçŸ¥
    WindUI:Notify({
        Title = "Delta ä¼˜åŒ–ç‰ˆåŠ è½½æˆåŠŸ",
        Content = "âœ… å®Œå…¨é€‚é… Delta æ³¨å…¥å™¨\nâœ… æ‰€æœ‰åŠŸèƒ½å®¢æˆ·ç«¯æœ¬åœ°è¿è¡Œ\nâœ… ä½œè€…æ£€æµ‹åŠŸèƒ½å·²å¯åŠ¨",
        Duration = 5
    })
end
